<!-- views/todos.ejs -->

<h2>Todo List</h2>

<!-- Section: Overdue -->
<section>
  <h5>Overdue</h5>
  <ul>
    <% todos.filter(todo => todo.status === 'overdue').forEach(todo => { %>
      <li><%= todo.title %></li>
    <% }); %>
  </ul>
  <p id="count-overdue">Count: <%= todos.filter(todo => todo.status === 'overdue').length %></p>
</section>

<!-- Section: Due Today -->
<section>
  <h5>Due Today</h5>
  <ul>
    <% todos.filter(todo => todo.status === 'dueToday').forEach(todo => { %>
      <li><%= todo.title %></li>
    <% }); %>
  </ul>
  <p id="count-due-today">Count: <%= todos.filter(todo => todo.status === 'dueToday').length %></p>
</section>

<!-- Section: Due Later -->
<section>
  <h5>Due Later</h5>
  <ul>
    <% todos.filter(todo => todo.status === 'dueLater').forEach(todo => { %>
      <li><%= todo.title %></li>
    <% }); %>
  </ul>
  <p id="count-due-later">Count: <%= todos.filter(todo => todo.status === 'dueLater').length %></p>
</section>

<!-- Original Table -->
<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Title</th>
      <th>Due Date</th>
      <th>Completed</th>
    </tr>
  </thead>
  <tbody>
    <% todos.forEach(todo => { %>
      <tr>
        <td><%= todo.id %></td>
        <td><%= todo.title %></td>
        <td><%= todo.dueDate %></td>
        <td><%= todo.completed %></td>
      </tr>
    <% }); %>
  </tbody>
</table>
